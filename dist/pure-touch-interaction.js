!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.TouchControl=t.TouchControl||{})}(this,function(t){"use strict";class e{constructor(t){this.element=t||window,this.isTouch=!1,this.touch={delta:{},move:{},pitch:0,yaw:0},this.mouseDown=this.mouseDown.bind(this),this.mouseUp=this.mouseUp.bind(this),this.mouseMove=this.mouseMove.bind(this),this.init()}init(){this.element.addEventListener("mousedown",this.mouseDown),window.addEventListener("mouseup",this.mouseUp),window.addEventListener("mousemove",this.mouseMove),this.isTouch=!1}mouseDown(t){console.log(this),this.isTouch=!0,this.touch.move.x=t.screenX,this.touch.move.y=t.screenY}mouseUp(t){this.isTouch=!1}mouseMove(t){if(!this.isTouch)return;let e={width:window.innerWidth,height:window.innerHeight};this.element!==window&&(e={width:this.element.clientWidth,height:this.element.clientHeight}),this.touch.delta={x:t.screenX-this.touch.move.x,y:t.screenY-this.touch.move.y},console.log("delta",this.touch.delta),this.touch.move={x:t.screenX,y:t.screenY};let i=e.width/e.height,o=Math.PI/180,h=Math.PI/2;this.touch.yaw+=this.touch.delta.x/e.width*45*i*o,this.touch.pitch+=this.touch.delta.y/e.height*45*o,this.touch.pitch=Math.max(-h,Math.min(h,this.touch.pitch)),console.log("y yaw",this.touch.yaw),console.log("x pitch",this.touch.pitch)}}class i{constructor(){}}t.Desktop=e,t.Mobile=i,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVyZS10b3VjaC1pbnRlcmFjdGlvbi5qcyIsInNvdXJjZXMiOlsiLi4vc3JjL2NvcmUvRGVza3RvcC5qcyIsIi4uL3NyYy9jb3JlL01vYmlsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgRGVza3RvcCB7XG4gICAgIFxuICAgIGNvbnN0cnVjdG9yKGVsZW1lbnQpe1xuICAgICAgICBcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudCB8fCB3aW5kb3c7XG4gICAgICAgIHRoaXMuaXNUb3VjaCA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMudG91Y2ggPSB7XG4gICAgICAgICAgICBkZWx0YSA6IHt9LFxuICAgICAgICAgICAgbW92ZSAgOiB7fSxcbiAgICAgICAgICAgIHBpdGNoIDogMCxcbiAgICAgICAgICAgIHlhdyAgIDogMFxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgdGhpcy5tb3VzZURvd24gPSB0aGlzLm1vdXNlRG93bi5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm1vdXNlVXAgICA9IHRoaXMubW91c2VVcC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm1vdXNlTW92ZSA9IHRoaXMubW91c2VNb3ZlLmJpbmQodGhpcyk7XG5cbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuXG5cbiAgICBpbml0KCl7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdpbml0Jyk7XG4gICAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm1vdXNlRG93bik7XG4gICAgICAgIFxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMubW91c2VVcCk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm1vdXNlTW92ZSk7XG4gICAgICAgIFxuICAgICAgICB0aGlzLmlzVG91Y2ggPSBmYWxzZTtcbiAgICB9XG5cbiAgICBtb3VzZURvd24oZSl7XG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZygnbW91c2UgZG93bicpO1xuXG4gICAgICAgIHRoaXMuaXNUb3VjaCAgPSB0cnVlO1xuXG4gICAgICAgIHRoaXMudG91Y2gubW92ZS54ID0gZS5zY3JlZW5YO1xuICAgICAgICB0aGlzLnRvdWNoLm1vdmUueSA9IGUuc2NyZWVuWTtcbiAgICB9XG5cbiAgICBtb3VzZVVwKGUpe1xuICAgICAgICAvLyBjb25zb2xlLmxvZygnbW91c2UgdXAnKTtcblxuICAgICAgICB0aGlzLmlzVG91Y2ggPSBmYWxzZTtcblxuICAgIH1cblxuICAgIG1vdXNlTW92ZShlKXtcbiAgICAgICAgaWYoIXRoaXMuaXNUb3VjaCkgcmV0dXJuO1xuICAgICAgICAvLyBjb25zb2xlLmxvZygnbW91c2UgbW92ZScpO1xuXG4gICAgICAgIGxldCBzY3JlZW4gPSB7XG4gICAgICAgICAgICB3aWR0aCAgOiB3aW5kb3cuaW5uZXJXaWR0aCxcbiAgICAgICAgICAgIGhlaWdodCA6IHdpbmRvdy5pbm5lckhlaWdodFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmKHRoaXMuZWxlbWVudCAhPT0gd2luZG93KSBzY3JlZW4gPSB7XG4gICAgICAgICAgICB3aWR0aCAgOiB0aGlzLmVsZW1lbnQuY2xpZW50V2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQgOiB0aGlzLmVsZW1lbnQuY2xpZW50SGVpZ2h0XG4gICAgICAgIH07XG5cblxuICAgICAgICB0aGlzLnRvdWNoLmRlbHRhID0ge1xuICAgICAgICAgICAgeCA6IGUuc2NyZWVuWCAtIHRoaXMudG91Y2gubW92ZS54LFxuICAgICAgICAgICAgeSA6IGUuc2NyZWVuWSAtIHRoaXMudG91Y2gubW92ZS55XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc29sZS5sb2coJ2RlbHRhJywgdGhpcy50b3VjaC5kZWx0YSk7XG5cbiAgICAgICAgdGhpcy50b3VjaC5tb3ZlID0ge1xuICAgICAgICAgICAgeCA6IGUuc2NyZWVuWCxcbiAgICAgICAgICAgIHkgOiBlLnNjcmVlbllcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBjb25zb2xlLmxvZygnbW92ZSAnLCB0aGlzLnRvdWNoLm1vdmUpO1xuXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdzY3JlZW4gJywgc2NyZWVuKVxuXG4gICAgICAgIGxldCBcbiAgICAgICAgICAgIGZvdiAgICA9IDQ1LFxuICAgICAgICAgICAgYXNwZWN0ID0gc2NyZWVuLndpZHRoIC8gc2NyZWVuLmhlaWdodCxcbiAgICAgICAgICAgIHJhZGlhbiA9IE1hdGguUEkvMTgwLFxuICAgICAgICAgICAgaGFsZiAgID0gTWF0aC5QSS8yO1xuXG4gICAgICAgIHRoaXMudG91Y2gueWF3ICAgKz0gdGhpcy50b3VjaC5kZWx0YS54IC8gc2NyZWVuLndpZHRoICogZm92ICogYXNwZWN0ICogcmFkaWFuO1xuICAgICAgICBcbiAgICAgICAgdGhpcy50b3VjaC5waXRjaCArPSB0aGlzLnRvdWNoLmRlbHRhLnkgLyBzY3JlZW4uaGVpZ2h0ICogZm92ICogcmFkaWFuO1xuICAgICAgICB0aGlzLnRvdWNoLnBpdGNoICA9IE1hdGgubWF4KC1oYWxmLCBNYXRoLm1pbihoYWxmLCB0aGlzLnRvdWNoLnBpdGNoKSk7XG5cbiAgICAgICAgY29uc29sZS5sb2coJ3kgeWF3JywgdGhpcy50b3VjaC55YXcpO1xuICAgICAgICBjb25zb2xlLmxvZygneCBwaXRjaCcsIHRoaXMudG91Y2gucGl0Y2gpO1xuICAgIH1cblxufVxuIiwiZXhwb3J0IGNsYXNzIE1vYmlsZSB7XG4gICAgXG4gICAgY29uc3RydWN0b3IoKXtcbiBcbiAgICB9XG5cbn1cblxuICAiXSwibmFtZXMiOlsiRGVza3RvcCIsIltvYmplY3QgT2JqZWN0XSIsImVsZW1lbnQiLCJ0aGlzIiwid2luZG93IiwiaXNUb3VjaCIsInRvdWNoIiwiZGVsdGEiLCJtb3ZlIiwicGl0Y2giLCJ5YXciLCJtb3VzZURvd24iLCJiaW5kIiwibW91c2VVcCIsIm1vdXNlTW92ZSIsImluaXQiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImNvbnNvbGUiLCJsb2ciLCJ4Iiwic2NyZWVuWCIsInkiLCJzY3JlZW5ZIiwic2NyZWVuIiwid2lkdGgiLCJpbm5lcldpZHRoIiwiaGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsImFzcGVjdCIsInJhZGlhbiIsIk1hdGgiLCJQSSIsImhhbGYiLCJtYXgiLCJtaW4iLCJNb2JpbGUiXSwibWFwcGluZ3MiOiJxTkFBYUEsRUFFVEMsWUFBWUMsR0FFUkMsS0FBS0QsUUFBVUEsR0FBV0UsT0FDMUJELEtBQUtFLFNBQVUsRUFFZkYsS0FBS0csT0FDREMsU0FDQUMsUUFDQUMsTUFBUSxFQUNSQyxJQUFRLEdBR1pQLEtBQUtRLFVBQVlSLEtBQUtRLFVBQVVDLEtBQUtULE1BQ3JDQSxLQUFLVSxRQUFZVixLQUFLVSxRQUFRRCxLQUFLVCxNQUNuQ0EsS0FBS1csVUFBWVgsS0FBS1csVUFBVUYsS0FBS1QsTUFFckNBLEtBQUtZLE9BSVRkLE9BRUlFLEtBQUtELFFBQVFjLGlCQUFpQixZQUFhYixLQUFLUSxXQUVoRFAsT0FBT1ksaUJBQWlCLFVBQVdiLEtBQUtVLFNBQ3hDVCxPQUFPWSxpQkFBaUIsWUFBYWIsS0FBS1csV0FFMUNYLEtBQUtFLFNBQVUsRUFHbkJKLFVBQVVnQixHQUNOQyxRQUFRQyxJQUFJaEIsTUFHWkEsS0FBS0UsU0FBVyxFQUVoQkYsS0FBS0csTUFBTUUsS0FBS1ksRUFBSUgsRUFBRUksUUFDdEJsQixLQUFLRyxNQUFNRSxLQUFLYyxFQUFJTCxFQUFFTSxRQUcxQnRCLFFBQVFnQixHQUdKZCxLQUFLRSxTQUFVLEVBSW5CSixVQUFVZ0IsR0FDTixJQUFJZCxLQUFLRSxRQUFTLE9BR2xCLElBQUltQixHQUNBQyxNQUFTckIsT0FBT3NCLFdBQ2hCQyxPQUFTdkIsT0FBT3dCLGFBR2pCekIsS0FBS0QsVUFBWUUsU0FBUW9CLEdBQ3hCQyxNQUFTdEIsS0FBS0QsUUFBUTJCLFlBQ3RCRixPQUFTeEIsS0FBS0QsUUFBUTRCLGVBSTFCM0IsS0FBS0csTUFBTUMsT0FDUGEsRUFBSUgsRUFBRUksUUFBVWxCLEtBQUtHLE1BQU1FLEtBQUtZLEVBQ2hDRSxFQUFJTCxFQUFFTSxRQUFVcEIsS0FBS0csTUFBTUUsS0FBS2MsR0FHcENKLFFBQVFDLElBQUksUUFBU2hCLEtBQUtHLE1BQU1DLE9BRWhDSixLQUFLRyxNQUFNRSxNQUNQWSxFQUFJSCxFQUFFSSxRQUNOQyxFQUFJTCxFQUFFTSxTQU9WLElBRUlRLEVBQVNQLEVBQU9DLE1BQVFELEVBQU9HLE9BQy9CSyxFQUFTQyxLQUFLQyxHQUFHLElBQ2pCQyxFQUFTRixLQUFLQyxHQUFHLEVBRXJCL0IsS0FBS0csTUFBTUksS0FBU1AsS0FBS0csTUFBTUMsTUFBTWEsRUFBSUksRUFBT0MsTUFMbkMsR0FLaURNLEVBQVNDLEVBRXZFN0IsS0FBS0csTUFBTUcsT0FBU04sS0FBS0csTUFBTUMsTUFBTWUsRUFBSUUsRUFBT0csT0FQbkMsR0FPa0RLLEVBQy9EN0IsS0FBS0csTUFBTUcsTUFBU3dCLEtBQUtHLEtBQUtELEVBQU1GLEtBQUtJLElBQUlGLEVBQU1oQyxLQUFLRyxNQUFNRyxRQUU5RFMsUUFBUUMsSUFBSSxRQUFTaEIsS0FBS0csTUFBTUksS0FDaENRLFFBQVFDLElBQUksVUFBV2hCLEtBQUtHLE1BQU1HLGNDNUY3QjZCLEVBRVRyQyJ9
